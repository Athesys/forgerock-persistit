prop datapath=$datapath$
prop logpath=$logpath$

logpath $logpath$/result_$timestamp$.log

// ----------------------------- Unit Tests ----------------------
delete $datapath$/persistit.v01 $datapath$/test_system.v01 $datapath$/test_txn.v01
delete $datapath$/persistit_log.000001
delete $datapath$/persistit_log.000002
delete $datapath$/persistit_log.000003
delete $datapath$/persistit_log.000004
delete $datapath$/persistit_log.000005
delete $datapath$/persistit_log.000006
delete $datapath$/persistit_log.000007
delete $datapath$/persistit_log.000008
delete $datapath$/persistit_log.000009
delete $datapath$/persistit_log.000010
delete $datapath$/persistit_log.000011
delete $datapath$/persistit_log.000012
delete $datapath$/persistit_log.000013
delete $datapath$/persistit_log.000014
delete $datapath$/persistit_log.000015
delete $datapath$/persistit_log.000016
delete $datapath$/persistit_log.000017
delete $datapath$/persistit_log.000018
delete $datapath$/persistit_log.000019
delete $datapath$/persistit_log.000020

#Stress-huge test mixture, multithread

clearprops
prop buffer.count.8192=50000
prop volume.1=$datapath$/persistit.v01,create,bufferSize:8192,initialSize:100M,extensionSize:100M,maximumSize:10G
prop logpath=$datapath$/persistit_log
prop rmiport=1099

init

multithread
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=121
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=122
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=121
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=122
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=121
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=122
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=121
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=122
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=121
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=122
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=121
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=122
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress1 repeat=10 count=10000
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=117
test com.persistit.stress.Stress2 repeat=5 count=10000 seed=118
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=119
test com.persistit.stress.Stress3 repeat=5 count=10000 seed=120
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress5 repeat=20 count=2000
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress6 repeat=10 count=500 size=250
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=121
test com.persistit.stress.Stress7 repeat=10 count=500 size=250 seed=122
icheck persistit
waitIfFailed Please examine the failure!
close
